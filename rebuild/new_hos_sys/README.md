

# フォルダ構成・内容詳細（2025/08時点）

## ルート直下
- `README.md` … パッケージ全体の説明・セットアップ手順・ファイル構成

## class/
- `AppCore.php` … DB接続（PDO）、セッション初期化、ユーザー表示名取得、HTMLエスケープなどシステム共通機能を集約
- `LoginManager.php` … ログイン認証（ID/パスワード照合）、レートリミット（試行回数制限）、認証履歴記録、APIレスポンス生成（JSON返却）
- `LogOutManager.php` … セッション情報削除・クッキー削除・ログアウト処理

## CSS/
- `AppCore.css` … 全画面共通スタイル（フォント、背景色など）
- `login.css` … ログイン画面専用スタイル（フォーム枠、タブUI、パネル、アイコン、レスポンシブ対応）

## js/
- `login/login_auth.js` … ログイン画面用JS。フォーム送信をJSでハンドリングし、API（lib/login.php）にPOST。認証結果に応じて画面遷移・エラー表示。

## lib/
- `login.php` … JS用APIエンドポイント。POSTでID/パスワードを受け取り、認証・レートリミット・セッション管理を行い、JSONで結果返却。

## public/
- `login.php` … ログイン画面。タブUI（お知らせ・最近・メンテナンス・その他）、ID/パスワードフォーム、JS連携、CSSでデザイン。
- `dashboard.php` … ログイン後のユーザー専用ダッシュボード。ログインユーザー名表示、ログアウトリンク。
- `control/logout.php` … ログアウト処理。セッション削除・リダイレクト。

## sql/
- `login_attempts.sql` … ログイン試行制限用テーブル。ID・試行日時を記録し、レートリミット判定に利用。
- `users.sql` … ユーザテーブル（ID・パスワードハッシュ・有効フラグ・最終ログイン日時）。サンプルアカウント（doctor01, nurse01, admin01）を登録済み。

---

### 内容まとめ

- 認証・セッション・レートリミット等は class/ 配下でクラス化
- 画面UIは public/ 配下、CSS/ でスタイル分離、js/ でJS管理
- API・コントローラは lib/ 配下
- DB定義は sql/ 配下
- README.md で全体の運用・セットアップ手順を記載

---

---

### 内容まとめ

- 認証・セッション・レートリミット等は class/ 配下でクラス化
- 画面UIは public/ 配下、CSS/ でスタイル分離、js/ でJS管理
- API・コントローラは lib/ 配下
- DB定義は sql/ 配下
- README.md で全体の運用・セットアップ手順を記載

---

## サンプルユーザ

以下のアカウントがあらかじめ登録されている。
パスワードはすべて `password123` 。

- doctor01
- nurse01
- admin01

